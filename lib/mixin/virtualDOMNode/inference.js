'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function spliceChildren(start, removedChildrenCount, addedChildren, context) {
  var childParent = this,
      childReference = null,
      childContext = context;

  addedChildren.forEach(function (addedChild) {
    addedChild.mount(childParent, childReference, childContext);
  });

  var args = [start, removedChildrenCount].concat(addedChildren),
      removedChildren = Array.prototype.splice.apply(this.children, args);

  removedChildren.forEach(function (removedChild) {
    removedChild.unmount(childContext);
  });
}

function addChild(child, context) {
  var start = Infinity,
      removedChildrenCount = 0,
      addedChildren = [child];

  this.spliceChildren(start, removedChildrenCount, addedChildren, context);
}

function removeChild(child, context) {
  var index = this.children.indexOf(child);

  if (index > -1) {
    var start = index,
        removedChildrenCount = 1,
        addedChildren = [];

    this.spliceChildren(start, removedChildrenCount, addedChildren, context);
  }
}

function setAttribute(name, value) {
  if (name === 'className') {
    name = 'class';
  }

  if (name === 'htmlFor') {
    name = 'for';
  }

  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {
    var keys = Object.keys(value);

    keys.forEach(function (key) {
      this.domElement[name][key] = value[key];
    }.bind(this));
  } else if (typeof value === 'boolean') {
    if (value) {
      value = name; ///

      this.domElement.setAttribute(name, value);
    }
  } else {
    this.domElement.setAttribute(name, value);
  }
}

function getAttribute(name) {
  return this.domElement.getAttribute(name);
}

function clearAttribute(name) {
  this.domElement.removeAttribute(name);
}

function addAttribute(name, value) {
  this.setAttribute(name, value);
}

function removeAttribute(name) {
  this.clearAttribute(name);
}

function setClass(className) {
  this.domElement.className = className;
}

function addClass(className) {
  this.domElement.classList.add(className);
}

function removeClass(className) {
  this.domElement.classList.remove(className);
}

function toggleClass(className) {
  this.domElement.classList.toggle(className);
}

function hasClass(className) {
  return this.domElement.classList.contains(className);
}

function clearClasses() {
  this.domElement.className = '';
}

function getTagName() {
  return this.domElement.tagName;
}

var inferenceMixin = {
  spliceChildren: spliceChildren,
  addChild: addChild,
  removeChild: removeChild,
  setAttribute: setAttribute,
  getAttribute: getAttribute,
  clearAttribute: clearAttribute,
  addAttribute: addAttribute,
  removeAttribute: removeAttribute,
  setClass: setClass,
  addClass: addClass,
  removeClass: removeClass,
  toggleClass: toggleClass,
  hasClass: hasClass,
  clearClasses: clearClasses,
  getTagName: getTagName
};

module.exports = inferenceMixin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VzNi9taXhpbi92aXJ0dWFsRE9NTm9kZS9pbmZlcmVuY2UuanMiXSwibmFtZXMiOlsic3BsaWNlQ2hpbGRyZW4iLCJzdGFydCIsInJlbW92ZWRDaGlsZHJlbkNvdW50IiwiYWRkZWRDaGlsZHJlbiIsImNvbnRleHQiLCJjaGlsZFBhcmVudCIsImNoaWxkUmVmZXJlbmNlIiwiY2hpbGRDb250ZXh0IiwiZm9yRWFjaCIsImFkZGVkQ2hpbGQiLCJtb3VudCIsImFyZ3MiLCJjb25jYXQiLCJyZW1vdmVkQ2hpbGRyZW4iLCJBcnJheSIsInByb3RvdHlwZSIsInNwbGljZSIsImFwcGx5IiwiY2hpbGRyZW4iLCJyZW1vdmVkQ2hpbGQiLCJ1bm1vdW50IiwiYWRkQ2hpbGQiLCJjaGlsZCIsIkluZmluaXR5IiwicmVtb3ZlQ2hpbGQiLCJpbmRleCIsImluZGV4T2YiLCJzZXRBdHRyaWJ1dGUiLCJuYW1lIiwidmFsdWUiLCJrZXlzIiwiT2JqZWN0Iiwia2V5IiwiZG9tRWxlbWVudCIsImJpbmQiLCJnZXRBdHRyaWJ1dGUiLCJjbGVhckF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImFkZEF0dHJpYnV0ZSIsInNldENsYXNzIiwiY2xhc3NOYW1lIiwiYWRkQ2xhc3MiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInRvZ2dsZUNsYXNzIiwidG9nZ2xlIiwiaGFzQ2xhc3MiLCJjb250YWlucyIsImNsZWFyQ2xhc3NlcyIsImdldFRhZ05hbWUiLCJ0YWdOYW1lIiwiaW5mZXJlbmNlTWl4aW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLFNBQVNBLGNBQVQsQ0FBd0JDLEtBQXhCLEVBQStCQyxvQkFBL0IsRUFBcURDLGFBQXJELEVBQW9FQyxPQUFwRSxFQUE2RTtBQUMzRSxNQUFNQyxjQUFjLElBQXBCO0FBQUEsTUFDTUMsaUJBQWlCLElBRHZCO0FBQUEsTUFFTUMsZUFBZUgsT0FGckI7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WFE7QUFZckJFLGVBQWFBLFdBWlE7QUFhckJFLFlBQVVBLFFBYlc7QUFjckJFLGdCQUFjQSxZQWRPO0FBZXJCQyxjQUFZQTtBQWZTLENBQXZCOztBQWtCQUcsT0FBT0MsT0FBUCxHQUFpQkYsY0FBakIiLCJmaWxlIjoiaW5mZXJlbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBzcGxpY2VDaGlsZHJlbihzdGFydCwgcmVtb3ZlZENoaWxkcmVuQ291bnQsIGFkZGVkQ2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgY29uc3QgY2hpbGRQYXJlbnQgPSB0aGlzLFxuICAgICAgICBjaGlsZFJlZmVyZW5jZSA9IG51bGwsXG4gICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbnRleHQ7XG5cbiAgYWRkZWRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGFkZGVkQ2hpbGQpIHtcbiAgICBhZGRlZENoaWxkLm1vdW50KGNoaWxkUGFyZW50LCBjaGlsZFJlZmVyZW5jZSwgY2hpbGRDb250ZXh0KTtcbiAgfSk7XG5cbiAgY29uc3QgYXJncyA9IFtzdGFydCwgcmVtb3ZlZENoaWxkcmVuQ291bnRdLmNvbmNhdChhZGRlZENoaWxkcmVuKSxcbiAgICAgICAgcmVtb3ZlZENoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseSh0aGlzLmNoaWxkcmVuLCBhcmdzKTtcblxuICByZW1vdmVkQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihyZW1vdmVkQ2hpbGQpIHtcbiAgICByZW1vdmVkQ2hpbGQudW5tb3VudChjaGlsZENvbnRleHQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQsIGNvbnRleHQpIHtcbiAgY29uc3Qgc3RhcnQgPSBJbmZpbml0eSxcbiAgICAgICAgcmVtb3ZlZENoaWxkcmVuQ291bnQgPSAwLFxuICAgICAgICBhZGRlZENoaWxkcmVuID0gW2NoaWxkXTtcblxuICB0aGlzLnNwbGljZUNoaWxkcmVuKHN0YXJ0LCByZW1vdmVkQ2hpbGRyZW5Db3VudCwgYWRkZWRDaGlsZHJlbiwgY29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkKGNoaWxkLCBjb250ZXh0KSB7XG4gIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gaW5kZXgsXG4gICAgICAgICAgcmVtb3ZlZENoaWxkcmVuQ291bnQgPSAxLFxuICAgICAgICAgIGFkZGVkQ2hpbGRyZW4gPSBbXTtcblxuICAgIHRoaXMuc3BsaWNlQ2hpbGRyZW4oc3RhcnQsIHJlbW92ZWRDaGlsZHJlbkNvdW50LCBhZGRlZENoaWxkcmVuLCBjb250ZXh0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpIHtcbiAgaWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgbmFtZSA9ICdjbGFzcyc7XG4gIH1cblxuICBpZiAobmFtZSA9PT0gJ2h0bWxGb3InKSB7XG4gICAgbmFtZSA9ICdmb3InO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudFtuYW1lXVtrZXldID0gdmFsdWVba2V5XTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IG5hbWU7IC8vL1xuXG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHsgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7IH1cblxuZnVuY3Rpb24gY2xlYXJBdHRyaWJ1dGUobmFtZSkgeyB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOyB9XG5cbmZ1bmN0aW9uIGFkZEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkgeyB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7IH1cblxuZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRlKG5hbWUpIHsgdGhpcy5jbGVhckF0dHJpYnV0ZShuYW1lKTsgfVxuXG5mdW5jdGlvbiBzZXRDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsgfVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiBoYXNDbGFzcyhjbGFzc05hbWUpIHsgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiBjbGVhckNsYXNzZXMoKSB7IHRoaXMuZG9tRWxlbWVudC5jbGFzc05hbWUgPSAnJzsgfVxuXG5mdW5jdGlvbiBnZXRUYWdOYW1lKCkgeyByZXR1cm4gdGhpcy5kb21FbGVtZW50LnRhZ05hbWU7IH1cblxuY29uc3QgaW5mZXJlbmNlTWl4aW4gPSB7XG4gIHNwbGljZUNoaWxkcmVuOiBzcGxpY2VDaGlsZHJlbixcbiAgYWRkQ2hpbGQ6IGFkZENoaWxkLFxuICByZW1vdmVDaGlsZDogcmVtb3ZlQ2hpbGQsXG4gIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICBnZXRBdHRyaWJ1dGU6IGdldEF0dHJpYnV0ZSxcbiAgY2xlYXJBdHRyaWJ1dGU6IGNsZWFyQXR0cmlidXRlLFxuICBhZGRBdHRyaWJ1dGU6IGFkZEF0dHJpYnV0ZSxcbiAgcmVtb3ZlQXR0cmlidXRlOiByZW1vdmVBdHRyaWJ1dGUsXG4gIHNldENsYXNzOiBzZXRDbGFzcyxcbiAgYWRkQ2xhc3M6IGFkZENsYXNzLFxuICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXG4gIHRvZ2dsZUNsYXNzOiB0b2dnbGVDbGFzcyxcbiAgaGFzQ2xhc3M6IGhhc0NsYXNzLFxuICBjbGVhckNsYXNzZXM6IGNsZWFyQ2xhc3NlcyxcbiAgZ2V0VGFnTmFtZTogZ2V0VGFnTmFtZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbmZlcmVuY2VNaXhpbjtcbiJdfQ==