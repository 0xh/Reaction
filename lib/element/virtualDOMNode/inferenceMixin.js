'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function spliceChildren(start, removedChildrenCount, addedChildren, context) {
  var childParent = this,
      childReference = null,
      childContext = context;

  addedChildren.forEach(function (addedChild) {
    addedChild.mount(childParent, childReference, childContext);
  });

  var args = [start, removedChildrenCount].concat(addedChildren),
      removedChildren = Array.prototype.splice.apply(this.children, args);

  removedChildren.forEach(function (removedChild) {
    removedChild.unmount(childContext);
  });
}

function addChild(child, context) {
  var start = Infinity,
      removedChildrenCount = 0,
      addedChildren = [child];

  this.spliceChildren(start, removedChildrenCount, addedChildren, context);
}

function removeChild(child, context) {
  var index = this.children.indexOf(child);

  if (index > -1) {
    var start = index,
        removedChildrenCount = 1,
        addedChildren = [];

    this.spliceChildren(start, removedChildrenCount, addedChildren, context);
  }
}

function setAttribute(name, value) {
  if (name === 'className') {
    name = 'class';
  }

  if (name === 'htmlFor') {
    name = 'for';
  }

  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {
    var keys = Object.keys(value);

    keys.forEach(function (key) {
      this.domElement[name][key] = value[key];
    }.bind(this));
  } else if (typeof value === 'boolean') {
    if (value) {
      value = name; ///

      this.domElement.setAttribute(name, value);
    }
  } else {
    this.domElement.setAttribute(name, value);
  }
}

function getAttribute(name) {
  return this.domElement.getAttribute(name);
}

function clearAttribute(name) {
  this.domElement.removeAttribute(name);
}

function addAttribute(name, value) {
  this.setAttribute(name, value);
}

function removeAttribute(name) {
  this.clearAttribute(name);
}

function setClass(className) {
  this.domElement.className = className;
}

function addClass(className) {
  this.domElement.classList.add(className);
}

function removeClass(className) {
  this.domElement.classList.remove(className);
}

function toggleClass(className) {
  this.domElement.classList.toggle(className);
}

function hasClass(className) {
  return this.domElement.classList.contains(className);
}

function clearClasses() {
  this.domElement.className = '';
}

function getTagName() {
  return this.domElement.tagName;
}

var inferenceMixin = {
  spliceChildren: spliceChildren,
  addChild: addChild,
  removeChild: removeChild,
  setAttribute: setAttribute,
  getAttribute: getAttribute,
  clearAttribute: clearAttribute,
  addAttribute: addAttribute,
  removeAttribute: removeAttribute,
  setClass: setClass,
  addClass: addClass,
  removeClass: removeClass,
  toggleClass: toggleClass,
  hasClass: hasClass,
  clearClasses: clearClasses,
  getTagName: getTagName
};

module.exports = inferenceMixin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2VzNi9lbGVtZW50L3ZpcnR1YWxET01Ob2RlL2luZmVyZW5jZU1peGluLmpzIl0sIm5hbWVzIjpbInNwbGljZUNoaWxkcmVuIiwic3RhcnQiLCJyZW1vdmVkQ2hpbGRyZW5Db3VudCIsImFkZGVkQ2hpbGRyZW4iLCJjb250ZXh0IiwiY2hpbGRQYXJlbnQiLCJjaGlsZFJlZmVyZW5jZSIsImNoaWxkQ29udGV4dCIsImZvckVhY2giLCJhZGRlZENoaWxkIiwibW91bnQiLCJhcmdzIiwiY29uY2F0IiwicmVtb3ZlZENoaWxkcmVuIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzcGxpY2UiLCJhcHBseSIsImNoaWxkcmVuIiwicmVtb3ZlZENoaWxkIiwidW5tb3VudCIsImFkZENoaWxkIiwiY2hpbGQiLCJJbmZpbml0eSIsInJlbW92ZUNoaWxkIiwiaW5kZXgiLCJpbmRleE9mIiwic2V0QXR0cmlidXRlIiwibmFtZSIsInZhbHVlIiwia2V5cyIsIk9iamVjdCIsImtleSIsImRvbUVsZW1lbnQiLCJiaW5kIiwiZ2V0QXR0cmlidXRlIiwiY2xlYXJBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhZGRBdHRyaWJ1dGUiLCJzZXRDbGFzcyIsImNsYXNzTmFtZSIsImFkZENsYXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmUiLCJ0b2dnbGVDbGFzcyIsInRvZ2dsZSIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJjbGVhckNsYXNzZXMiLCJnZXRUYWdOYW1lIiwidGFnTmFtZSIsImluZmVyZW5jZU1peGluIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxTQUFTQSxjQUFULENBQXdCQyxLQUF4QixFQUErQkMsb0JBQS9CLEVBQXFEQyxhQUFyRCxFQUFvRUMsT0FBcEUsRUFBNkU7QUFDM0UsTUFBTUMsY0FBYyxJQUFwQjtBQUFBLE1BQ01DLGlCQUFpQixJQUR2QjtBQUFBLE1BRU1DLGVBQWVI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QUFhQSxXQVhRO0FBWXJCRSxlQUFhQSxXQVpRO0FBYXJCRSxZQUFVQSxRQWJXO0FBY3JCRSxnQkFBY0EsWUFkTztBQWVyQkMsY0FBWUE7QUFmUyxDQUF2Qjs7QUFrQkFHLE9BQU9DLE9BQVAsR0FBaUJGLGNBQWpCIiwiZmlsZSI6ImluZmVyZW5jZU1peGluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBzcGxpY2VDaGlsZHJlbihzdGFydCwgcmVtb3ZlZENoaWxkcmVuQ291bnQsIGFkZGVkQ2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgY29uc3QgY2hpbGRQYXJlbnQgPSB0aGlzLFxuICAgICAgICBjaGlsZFJlZmVyZW5jZSA9IG51bGwsXG4gICAgICAgIGNoaWxkQ29udGV4dCA9IGNvbnRleHQ7XG5cbiAgYWRkZWRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGFkZGVkQ2hpbGQpIHtcbiAgICBhZGRlZENoaWxkLm1vdW50KGNoaWxkUGFyZW50LCBjaGlsZFJlZmVyZW5jZSwgY2hpbGRDb250ZXh0KTtcbiAgfSk7XG5cbiAgY29uc3QgYXJncyA9IFtzdGFydCwgcmVtb3ZlZENoaWxkcmVuQ291bnRdLmNvbmNhdChhZGRlZENoaWxkcmVuKSxcbiAgICAgICAgcmVtb3ZlZENoaWxkcmVuID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseSh0aGlzLmNoaWxkcmVuLCBhcmdzKTtcblxuICByZW1vdmVkQ2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihyZW1vdmVkQ2hpbGQpIHtcbiAgICByZW1vdmVkQ2hpbGQudW5tb3VudChjaGlsZENvbnRleHQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkQ2hpbGQoY2hpbGQsIGNvbnRleHQpIHtcbiAgY29uc3Qgc3RhcnQgPSBJbmZpbml0eSxcbiAgICAgICAgcmVtb3ZlZENoaWxkcmVuQ291bnQgPSAwLFxuICAgICAgICBhZGRlZENoaWxkcmVuID0gW2NoaWxkXTtcblxuICB0aGlzLnNwbGljZUNoaWxkcmVuKHN0YXJ0LCByZW1vdmVkQ2hpbGRyZW5Db3VudCwgYWRkZWRDaGlsZHJlbiwgY29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkKGNoaWxkLCBjb250ZXh0KSB7XG4gIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIGNvbnN0IHN0YXJ0ID0gaW5kZXgsXG4gICAgICAgICAgcmVtb3ZlZENoaWxkcmVuQ291bnQgPSAxLFxuICAgICAgICAgIGFkZGVkQ2hpbGRyZW4gPSBbXTtcblxuICAgIHRoaXMuc3BsaWNlQ2hpbGRyZW4oc3RhcnQsIHJlbW92ZWRDaGlsZHJlbkNvdW50LCBhZGRlZENoaWxkcmVuLCBjb250ZXh0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpIHtcbiAgaWYgKG5hbWUgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgbmFtZSA9ICdjbGFzcyc7XG4gIH1cblxuICBpZiAobmFtZSA9PT0gJ2h0bWxGb3InKSB7XG4gICAgbmFtZSA9ICdmb3InO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudFtuYW1lXVtrZXldID0gdmFsdWVba2V5XTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IG5hbWU7IC8vL1xuXG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKG5hbWUpIHsgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7IH1cblxuZnVuY3Rpb24gY2xlYXJBdHRyaWJ1dGUobmFtZSkgeyB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpOyB9XG5cbmZ1bmN0aW9uIGFkZEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkgeyB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7IH1cblxuZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRlKG5hbWUpIHsgdGhpcy5jbGVhckF0dHJpYnV0ZShuYW1lKTsgfVxuXG5mdW5jdGlvbiBzZXRDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsgfVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiB0b2dnbGVDbGFzcyhjbGFzc05hbWUpIHsgdGhpcy5kb21FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiBoYXNDbGFzcyhjbGFzc05hbWUpIHsgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTsgfVxuXG5mdW5jdGlvbiBjbGVhckNsYXNzZXMoKSB7IHRoaXMuZG9tRWxlbWVudC5jbGFzc05hbWUgPSAnJzsgfVxuXG5mdW5jdGlvbiBnZXRUYWdOYW1lKCkgeyByZXR1cm4gdGhpcy5kb21FbGVtZW50LnRhZ05hbWU7IH1cblxuY29uc3QgaW5mZXJlbmNlTWl4aW4gPSB7XG4gIHNwbGljZUNoaWxkcmVuOiBzcGxpY2VDaGlsZHJlbixcbiAgYWRkQ2hpbGQ6IGFkZENoaWxkLFxuICByZW1vdmVDaGlsZDogcmVtb3ZlQ2hpbGQsXG4gIHNldEF0dHJpYnV0ZTogc2V0QXR0cmlidXRlLFxuICBnZXRBdHRyaWJ1dGU6IGdldEF0dHJpYnV0ZSxcbiAgY2xlYXJBdHRyaWJ1dGU6IGNsZWFyQXR0cmlidXRlLFxuICBhZGRBdHRyaWJ1dGU6IGFkZEF0dHJpYnV0ZSxcbiAgcmVtb3ZlQXR0cmlidXRlOiByZW1vdmVBdHRyaWJ1dGUsXG4gIHNldENsYXNzOiBzZXRDbGFzcyxcbiAgYWRkQ2xhc3M6IGFkZENsYXNzLFxuICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXG4gIHRvZ2dsZUNsYXNzOiB0b2dnbGVDbGFzcyxcbiAgaGFzQ2xhc3M6IGhhc0NsYXNzLFxuICBjbGVhckNsYXNzZXM6IGNsZWFyQ2xhc3NlcyxcbiAgZ2V0VGFnTmFtZTogZ2V0VGFnTmFtZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbmZlcmVuY2VNaXhpbjtcbiJdfQ==